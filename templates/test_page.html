{% load i18n %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <!-- Optional theme -->  
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
  
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <link rel="stylesheet" href={% static "css/nouislider.css" %}>


  <!-- Compiled and minified CSS -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">

  <!-- <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/> -->

  <!-- Compiled and minified JavaScript -->
  <!-- <script src={% static "js/materialize.min.js" %}></script> -->

  
  <!-- <link rel="stylesheet" href={% static "css/sentimini-css.css" %}> -->

  <!-- <script src={% static "js/list.min.js" %}></script> -->
<!-- <script src={% static "js/list.pagination.min.js" %}></script> -->


<!-- <link rel="stylesheet" href={% static "css/materialize-select2.css" %}> -->
<script src={% static "js/picker.js" %}></script>
<script src={% static "js/picker.date.js" %}></script>
</head>


<div class="row">
    <div class="col l12 s12">


 <div class="waves-effect waves-teal btn-flat chip sort" data-sort="text-text">
        Text
      </div>


       <form action="#">
       <!-- {% csrf_token %} -->
    <div class="file-field input-field">
      <div class="btn">
        <span>File</span>
        <input type="file" id="myFile">
      </div>
      <div class="file-path-wrapper">
        <input class="file-path validate" type="text">
      </div>
    </div>
  </form>

</div>
</div>
<script type="text/javascript">
$('.datepicker').pickadate()
  </script>

<script type="text/javascript">
  $("#myFile").change(function (){
    console.log("HEY HEY HEY")
    var file = document.getElementById('myFile').files[0];
    // console.log(file)

    // file = $('#myFile').files[0];
    var formdata = new FormData();
    var csrf_token = $('input[name="csrfmiddlewaretoken"]').val();


    formdata.append('file_upload', file);

    
    $.ajax({
    type: 'POST',
    // csrfmiddlewaretoken: csrf_token,
    url: '/upload_text_csv/',
    processData: false,
    contentType: false,
    data: formdata,
     success : function(data) {
        console.log("THIS WORKED!")
         }

    })
    
  })

  </script>